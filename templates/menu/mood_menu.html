{% extends "base.html" %}
{% block content %}
<style>
    .mood-wrap { min-height: 100vh; background: #f8f9fa; }
    .mood-btn { padding: 8px 18px; border-radius: 50px; text-decoration: none; background: #fff; color: #333; transition: 0.3s; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-weight: 600; font-size: 14px; }
    .mood-btn.active { background: #222; color: #fff; transform: scale(1.1); }
    .food-card { border: none; border-radius: 15px; overflow: hidden; transition: 0.3s; }
    .price-badge { position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.9); padding: 2px 10px; border-radius: 20px; font-weight: bold; font-size: 12px; }
</style>

<div class="mood-wrap py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h3 class="fw-bold">How's your mood? ✨</h3>
            <div class="d-flex justify-content-center flex-wrap gap-2 mt-3">
                <a href="?mood=happy" class="mood-btn {% if current_mood == 'happy' %}active{% endif %}">Happy</a>
                <a href="?mood=sad" class="mood-btn {% if current_mood == 'sad' %}active{% endif %}">Sad</a>
                <a href="?mood=stressed" class="mood-btn {% if current_mood == 'stressed' %}active{% endif %}">Stressed</a>
                <a href="?mood=energetic" class="mood-btn {% if current_mood == 'energetic' %}active{% endif %}">Energetic</a>
            </div>
        </div>
        <div class="row g-3">
            {% for food in foods %}
            <div class="col-6 col-md-4 col-lg-3">
                <div class="card h-100 food-card shadow-sm">
                    <div class="position-relative">
                        <img src="{{ food.image.url }}" class="card-img" style="height: 150px; object-fit: cover;">
                        <span class="price-badge">৳{{ food.price }}</span>
                    </div>
                    <div class="card-body p-2 text-center">
                        <h6 class="fw-bold mb-2 text-truncate">{{ food.name }}</h6>
                        <a href="{% url 'add_to_cart' food.id %}" class="btn btn-sm btn-dark w-100 rounded-pill">Add</a>
                    </div>
                </div>
            </div>
            {% empty %}<p class="text-center w-100 mt-5 text-muted">No items for this mood.</p>{% endfor %}
        </div>
    </div>
</div>
{% endblock %}